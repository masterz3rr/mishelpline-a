"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[119],{4119:function(e,n,t){t.r(n);var r=t(1413),i=t(2982),c=t(4165),s=t(5861),u=t(885),o=t(8870),l=t(890),d=t(9281),a=t(703),f=t(9836),h=t(6890),p=t(5855),x=t(3994),Z=t(3382),v=t(2791),j=t(6819),b=t(5322),m=t(4163),y=t(184);n.default=function(){var e=(0,v.useContext)(m.U),n=(0,v.useContext)(b.V),t=(0,v.useState)([]),q=(0,u.Z)(t,2),K=q[0],g=q[1],k=function(){var n=(0,s.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.authAxios.get("/requests/completed").then((function(e){var n=e.data;g(n.requests)})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,v.useEffect)((function(){k();var t=n.pusher.subscribe("request");return t.bind("created",(function(n){g((function(e){return[].concat((0,i.Z)(e),[n])})),e.setRefreshKey(e.refreshKey=1)})),t.bind("updated",(function(n){g(K.map((function(e){return e._id===n._id?(0,r.Z)((0,r.Z)({},K),{},{updateReq:n}):e}))),e.setRefreshKey(e.refreshKey=1)})),t.bind("deleted-req",(function(n){g(K.filter((function(e,t){return e._id!==n[t]._id}))),e.setRefreshKey(e.refreshKey+1)})),function(){t.unbind_all(),t.unsubscribe("request")}}),[e.refreshKey]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"column",gap:2},children:[(0,y.jsx)(l.Z,{variant:"h6",component:"h2",children:"List of All Completed"}),(0,y.jsx)(d.Z,{component:a.Z,children:(0,y.jsxs)(f.Z,{children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)(p.Z,{children:j.lR.map((function(e,n){return(0,y.jsx)(x.Z,{children:e.label},n)}))})}),(0,y.jsx)(Z.Z,{children:K.map((function(e,n){var t=new Date(null===e||void 0===e?void 0:e.createdAt),r=t.getMonth()+1,i=t.getDate();return(0,y.jsxs)(p.Z,{children:[(0,y.jsx)(x.Z,{children:"".concat(r," - ").concat(i)}),(0,y.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.ticketNo}),(0,y.jsx)(x.Z,{children:"".concat(null===e||void 0===e?void 0:e.user.firstName," ").concat(null===e||void 0===e?void 0:e.user.lastName)}),(0,y.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.title}),(0,y.jsx)(x.Z,{children:null===e||void 0===e?void 0:e.reqType})]},n)}))})]})})]})})}}}]);
//# sourceMappingURL=119.f0f5d67b.chunk.js.map