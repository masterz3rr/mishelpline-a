"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[428],{9428:function(e,n,t){t.r(n);var r=t(4165),s=t(5861),a=t(885),i=t(1614),o=t(8870),l=t(890),c=t(8096),u=t(3466),d=t(3400),p=t(6151),x=t(3239),h=t(5705),m=t(6871),f=t(5178),Z=t(3746),j=t(165),g=t(3753),v=t(2791),S=t(427),b=t(3504),w=t(5169),y=t(9112),k=t(5322),C=t(184),I=S.Z[400];n.default=function(){var e=(0,v.useRef)(!0),n=(0,m.s0)(),t=(0,v.useState)(!1),S=(0,a.Z)(t,2),W=S[0],A=S[1],D=(0,v.useState)(!1),E=(0,a.Z)(D,2),M=E[0],P=E[1],V=(0,v.useState)(!1),F=(0,a.Z)(V,2),O=F[0],T=F[1],U=(0,v.useState)(),q=(0,a.Z)(U,2),z=q[0],B=q[1],H=(0,v.useState)(),J=(0,a.Z)(H,2),K=J[0],L=J[1],N=(0,v.useState)(!1),R=(0,a.Z)(N,2),G=R[0],Q=R[1],X=(0,v.useContext)(k.V),Y=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(t,s){var a,i,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Q(!0),n.next=4,w.Z.post("/login",t);case 4:a=n.sent,i=a.data,X.setAuthState(i),B(i.message),P(!0),L(""),s(!0),Q(!1),n.next=21;break;case 14:n.prev=14,n.t0=n.catch(0),o=n.t0.response.data,L(o.message),T(!0),B(""),Q(!1);case 21:return n.abrupt("return",(function(){e.current=!1}));case 22:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}();return(0,v.useEffect)((function(){var t=!0;return t&&(X.isAuthenticated()?n("/dashboard",{replace:!0}):n("/",{replace:!0})),function(){t=!1,e.current=!1}}),[]),(0,C.jsxs)(C.Fragment,{children:[z&&(0,C.jsx)(y.j,{open:M,setOpen:P,successMessage:z}),K&&(0,C.jsx)(y.A,{open:O,setOpen:T,errorMessage:K}),(0,C.jsx)(i.Z,{component:"main",maxWidth:"xs",children:(0,C.jsxs)(o.Z,{sx:{marginTop:20,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,C.jsx)(l.Z,{component:"h1",variant:"h4",children:"MIS HELP DESK"}),(0,C.jsx)(l.Z,{component:"h2",variant:"h5",sx:{marginTop:4},children:"Sign in"}),(0,C.jsx)(h.J9,{initialValues:{email:"",password:""},validationSchema:g.dm,onSubmit:function(e,n){var t=n.resetForm;Y(e,t)},children:function(){return(0,C.jsxs)(h.l0,{autoComplete:"off",noValidate:!0,sx:{mt:1},children:[(0,C.jsx)(c.Z,{fullWidth:!0,children:(0,C.jsx)(f.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"BISU Email",name:"email",autoComplete:"off"})}),(0,C.jsx)(c.Z,{fullWidth:!0,children:(0,C.jsx)(f.Z,{name:"password",type:W?"text":"password",label:"Password",autoComplete:"off",InputProps:{endAdornment:(0,C.jsx)(u.Z,{position:"end",children:(0,C.jsx)(d.Z,{"aria-label":"toggle password visibility",onClick:function(){return A(!W)},onMouseDown:function(){return A(!W)},edge:"end",children:W?(0,C.jsx)(Z.Z,{}):(0,C.jsx)(j.Z,{})})})}})}),(0,C.jsx)(p.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:!0===G,startIcon:!0===G?(0,C.jsx)(x.Z,{size:20,color:"primary"}):null,children:"Sign In"})]})}}),(0,C.jsx)(o.Z,{children:(0,C.jsx)(l.Z,{variant:"body2",sx:{color:I},children:(0,C.jsx)(b.rU,{to:"/signup",style:{color:"inherit",textDecoration:"none"},children:"No account yet? Sign up here"})})})]})})]})}}}]);
//# sourceMappingURL=428.c9b3804b.chunk.js.map