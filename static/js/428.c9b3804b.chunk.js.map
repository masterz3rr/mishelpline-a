{"version":3,"file":"static/js/428.c9b3804b.chunk.js","mappings":"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","sources":["pages/Authentication/Login/index.jsx"],"sourcesContent":["import {\n\tBox,\n\tButton,\n\tContainer,\n\tFormControl,\n\tIconButton,\n\tInputAdornment,\n\tTypography,\n\tCircularProgress,\n} from '@mui/material';\nimport { Form, Formik } from 'formik';\nimport { useNavigate } from 'react-router-dom';\nimport InputField from '../../../components/common/InputField';\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\nimport { loginSchema } from '../../../schema/schema';\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport { blue } from '@mui/material/colors';\nimport { Link } from 'react-router-dom';\nimport publicFetch from '../../../utils/fetch';\nimport { SnackbarError, SnackbarSuccess } from '../../../components/SnackBars';\nimport { AuthContext } from '../../../context/AuthContext';\n\nconst linkColor = blue[400];\n\nconst Login = () => {\n\tconst _isMounted = useRef(true);\n\tconst history = useNavigate();\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [success, setSuccess] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst [successMessage, setSuccessMessage] = useState();\n\tconst [errorMessage, setErrorMessage] = useState();\n\tconst [loading, setLoading] = useState(false);\n\tconst authContext = useContext(AuthContext);\n\n\tconst login = async (values, resetForm) => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst { data } = await publicFetch.post(`/login`, values);\n\t\t\tauthContext.setAuthState(data);\n\t\t\tsetSuccessMessage(data.message);\n\t\t\tsetSuccess(true);\n\t\t\tsetErrorMessage('');\n\t\t\tresetForm(true);\n\t\t\tsetLoading(false);\n\t\t\t// const response = await\n\t\t} catch (e) {\n\t\t\tconst { data } = e.response;\n\t\t\tsetErrorMessage(data.message);\n\t\t\tsetError(true);\n\t\t\tsetSuccessMessage('');\n\t\t\tsetLoading(false);\n\t\t}\n\t\treturn () => {\n\t\t\t_isMounted.current = false;\n\t\t};\n\t};\n\n\tuseEffect(() => {\n\t\tlet isMounted = true;\n\t\tif (isMounted) {\n\t\t\tif (!authContext.isAuthenticated()) {\n\t\t\t\thistory('/', { replace: true });\n\t\t\t} else {\n\t\t\t\thistory('/dashboard', { replace: true });\n\t\t\t}\n\t\t}\n\n\t\treturn () => {\n\t\t\tisMounted = false;\n\t\t\t_isMounted.current = false;\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{successMessage && (\n\t\t\t\t<SnackbarSuccess\n\t\t\t\t\topen={success}\n\t\t\t\t\tsetOpen={setSuccess}\n\t\t\t\t\tsuccessMessage={successMessage}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{errorMessage && (\n\t\t\t\t<SnackbarError\n\t\t\t\t\topen={error}\n\t\t\t\t\tsetOpen={setError}\n\t\t\t\t\terrorMessage={errorMessage}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginTop: 20,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\tMIS HELP DESK\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography component=\"h2\" variant=\"h5\" sx={{ marginTop: 4 }}>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Formik\n\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\temail: '',\n\t\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalidationSchema={loginSchema}\n\t\t\t\t\t\tonSubmit={(values, { resetForm }) => {\n\t\t\t\t\t\t\tlogin(values, resetForm);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{() => (\n\t\t\t\t\t\t\t<Form autoComplete=\"off\" noValidate sx={{ mt: 1 }}>\n\t\t\t\t\t\t\t\t<FormControl fullWidth>\n\t\t\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"BISU Email\"\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t<FormControl fullWidth>\n\t\t\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseDown={() => setShowPassword(!showPassword)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <Visibility /> : <VisibilityOff />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tsx={{ mt: 3, mb: 2 }}\n\t\t\t\t\t\t\t\t\tdisabled={loading === true}\n\t\t\t\t\t\t\t\t\tstartIcon={\n\t\t\t\t\t\t\t\t\t\tloading === true ? (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress size={20} color=\"primary\" />\n\t\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Formik>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"body2\" sx={{ color: linkColor }}>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto=\"/signup\"\n\t\t\t\t\t\t\t\tstyle={{ color: 'inherit', textDecoration: 'none' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tNo account yet? Sign up here\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Container>\n\t\t</>\n\t);\n};\n\nexport default Login;\n"],"names":["linkColor","blue","_isMounted","useRef","history","useNavigate","useState","showPassword","setShowPassword","success","setSuccess","error","setError","successMessage","setSuccessMessage","errorMessage","setErrorMessage","loading","setLoading","authContext","useContext","AuthContext","login","values","resetForm","publicFetch","data","setAuthState","message","response","current","useEffect","isMounted","isAuthenticated","replace","open","setOpen","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","variant","initialValues","email","password","validationSchema","loginSchema","onSubmit","autoComplete","noValidate","mt","fullWidth","margin","required","id","label","name","type","InputProps","endAdornment","position","onClick","onMouseDown","edge","mb","disabled","startIcon","size","color","to","style","textDecoration"],"sourceRoot":""}