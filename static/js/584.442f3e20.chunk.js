"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[584],{8584:function(e,n,t){t.r(n);var r=t(1413),i=t(2982),c=t(4165),s=t(5861),u=t(885),o=t(8870),l=t(890),d=t(9281),a=t(703),f=t(9836),h=t(6890),x=t(5855),Z=t(3994),v=t(3382),p=t(2791),j=t(6819),b=t(5322),y=t(4163),m=t(184);n.default=function(){var e=(0,p.useContext)(y.U),n=(0,p.useContext)(b.V),t=(0,p.useState)([]),q=(0,u.Z)(t,2),K=q[0],g=q[1],k=function(){var n=(0,s.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.authAxios.get("/requests/rejected").then((function(e){var n=e.data;g(n.requests)})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,p.useEffect)((function(){k();var t=n.pusher.subscribe("request");return t.bind("created",(function(n){g((function(e){return[].concat((0,i.Z)(e),[n])})),e.setRefreshKey(e.refreshKey=1)})),t.bind("updated",(function(n){g(K.map((function(e){return e._id===n._id?(0,r.Z)((0,r.Z)({},K),{},{updateReq:n}):e}))),e.setRefreshKey(e.refreshKey=1)})),t.bind("deleted-req",(function(n){g(K.filter((function(e,t){return e._id!==n[t]._id}))),e.setRefreshKey(e.refreshKey+1)})),function(){t.unbind_all(),t.unsubscribe("request")}}),[e.refreshKey]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"column",gap:2},children:[(0,m.jsx)(l.Z,{variant:"h6",component:"h2",children:"List of All Rejected"}),(0,m.jsx)(d.Z,{component:a.Z,children:(0,m.jsxs)(f.Z,{children:[(0,m.jsx)(h.Z,{children:(0,m.jsx)(x.Z,{children:j.x1.map((function(e,n){return(0,m.jsx)(Z.Z,{children:e.label},n)}))})}),(0,m.jsx)(v.Z,{children:K.map((function(e,n){var t=new Date(null===e||void 0===e?void 0:e.createdAt),r=t.getMonth()+1,i=t.getDate();return(0,m.jsxs)(x.Z,{children:[(0,m.jsx)(Z.Z,{children:"".concat(r," - ").concat(i)}),(0,m.jsx)(Z.Z,{children:null===e||void 0===e?void 0:e.ticketNo}),(0,m.jsx)(Z.Z,{children:"".concat(null===e||void 0===e?void 0:e.user.firstName," ").concat(null===e||void 0===e?void 0:e.user.lastName)}),(0,m.jsx)(Z.Z,{children:null===e||void 0===e?void 0:e.title}),(0,m.jsx)(Z.Z,{children:null===e||void 0===e?void 0:e.reqType}),(0,m.jsx)(Z.Z,{children:null===e||void 0===e?void 0:e.reason})]},n)}))})]})})]})})}}}]);
//# sourceMappingURL=584.442f3e20.chunk.js.map